## vv-Store
Скрипт интернет витрины. Максимально простой, максимально быстрый. Ничего лишнего. 
Движек не требует баз данных, так как использует файловую бд Sqlite3.


## Установка
Скрипт скопировать в корневую и выставить права для записи на:
* /uploads/images
* /uploads/products
* /uploads/products/md/
* /uploads/products/sm/
* /core/data/db.sqlite

Прописать в robots.txt который лежит в корне Ваш домен для строчек Sitemap и Host

При необходимости выставить редиректы (с www на без) в .htaccess предварительно раскоментировав строчки:
* RewriteCond %{HTTP_HOST} ^www.site.ru$ [NC]
* RewriteRule ^(.*)$ http://site.ru/$1 [R=301,L]

	
## Использование
Доступ в админ-панель **вашсайт.ру/cp**	Пароль **admin**
Карта сайта генерируется автоматом и доступна по адресу **вашсайт.ру/sitemap.xml**


## Описание шаблонов
**main.tpl** - основная страница в ней соберается все и выводится
* {headers} - вывод метатегов и тайтла страницы
* {total_qty} - количество товаров в корзине
* {total_cost} - цена товаров в корзине
* {val} - приставка валюты
* {address} - адрес из настроек
* {content} - вывод контента страницы
* {domen} - домен сайта
* {Y} - текущий год
	
**404.tpl** - шаблон 404 страницы, встраиваемых тегов нет

**nav.tpl** - шаблон пагинации
* [prev-link][/prev-link] - блок первой ссылки
* {pages} - список страниц
* [next-link][/next-link] - блок последней ссылки

**search.tpl** - шаблон страницы с результатами поиска
* {breadcrumb} - блок вывода хлебных крошек
* {title} - заголовок страницы поиска
* {content} - контент страницы поиска
* {pagination} - пагинация страницы поиска

**search.ajax.tpl** - шаблон выпадающего поиска
* {title} - заголовок страницы выпадающего поиска
* {content} - контент страницы выпадающего поиска

**static.tpl** - шаблон вывода статических страниц
* {home_title} - вывод тайтла по умолчанию для хлебных крошек
* {short_title} - вывод короткого названия для хлебных крошек
* {title} - название статической страницы
* {static} - тело статической страницы

**start.tpl** - шаблон стартовой странциы
* {random_products} - вывод случайных товаров
* {viewed_products} - вывод товаров которые уже смотрели
* {desc} - текст на главной

**random_products.tpl** - шаблон вывода товаров на главной
* {full_link} - чпу ссылки на товар
* {img} - путь к картинки изображения
* {title} - название товара
* {product-id} - ид товара
* {cost} - цена товара
* {val} - валюта

**cart.popup.tpl** - шаблон всплывающей корзины
* [empty][/empty] -
* [not_empty][/not_empty] - 
* {cart} - 
* {total_cost} - 
* {val} - 

**checkout.tpl** - шаблон странцы оформления заказа
* [empty][/empty] -
* [not_empty][/not_empty] - 
* {delivery_method} - 
* {payment_method} - 
* {cart} - 
* {total_cost} - 
* {val} - 

**checkout.cart.tpl** - шаблон корзины для страницы оформления заказа
* {product_id} - ид товара
* {product_alt} - чпу товара
* {product_img} - путь к изображению товара
* {product_name} - название товара
* {cost} - цена
* {val} - валюта
* {qty} - количество
* {price} - итговая цена

**checkout.success.tpl** - страница вывода спасибо за заказ после заказа

**product.catalog.tpl** - шаблон вывода страниц с товарами категории
* {breadcrumb} - блок хлебных крошек
* {category_menu} - блок категорий
* {title} - название категории
* {goods} - список товаров
* {pagination} - пагинация
* {desc} - описание категори

**product.full.tpl** - шаблон полной карточки товара
* {breadcrumb} - блок хлебных крошек
* {img1} - картинка 1
* {img2} - картинка 2
* {img3} - картинка 3
* {img_js} - json массив изображений для lightGallery
* {title} - название
* {link-category} - категория
* {fulldesc} - описание
* {cost} - цена
* {val} - валюта
* {product-id} - ид товара

**product.short.list.tpl** - шаблон короткой для товаров выпадающих из поиска
* {full_link} - чпу товара
* {img} - картинка товара
* {title} - название товара
* {product-id} - ид товара
* {cost} - цена
* {val} - валюта

**product.short.tile.tpl** - шаблон маленькой карточки товара
* {full_link} - чпу товара
* {img} - картинка товара
* {title} - название товара
* {product-id} - ид товара
* {cost} - цена
* {val} - валюта

**mails/mail.tpl** - шаблон письма
* {domen} - домен сайта
* {mail_content} - контент письма
* {email} - почта сайта

**mails/order_table.tpl** - шаблон таблицы заказов
* {list} - список товаров
* {total_cost} - стоимость итоговая
* {val} - валюта 
* {noty} - комментарий к заказу если есть
 
**mails/txt_order_success_client.tpl** - текст пиьма о заказе покупателю
* {domen} - домен сайта
* {fio} - фио покупателя
* {tel} - телефон покупателя
* [tel][/tel] - показывать этот блок если есть телефон
* {city} - город
* [city][/city] - показывать этот блок если есть город
* {email} - почта покупателя
* [email][/email] - показывать этот блок если есть почта
* {delivery} - способ доставки
* [delivery][/delivery] - показывать этот блок если указан способ доставки
* {otd} - отдление
* [otd][/otd] - показывать этот блок если указано отделение
* {payment} - метод оплаты
* [payment][/payment] - показывать этот блок если указан метод оплаты
* {num_zakaz} - номер заказа
* {order_table} - блок заказанной корзины

**mails/txt_order_success_manager.tpl** - текст письма о заказе менеджеру
* {domen} - домен сайта
* {fio} - фио покупателя
* {tel} - телефон покупателя
* [tel][/tel] - показывать этот блок если есть телефон
* {city} - город
* [city][/city] - показывать этот блок если есть город
* {email} - почта покупателя
* [email][/email] - показывать этот блок если есть почта
* {delivery} - способ доставки
* [delivery][/delivery] - показывать этот блок если указан способ доставки
* {otd} - отдление
* [otd][/otd] - показывать этот блок если указано отделение
* {payment} - метод оплаты
* [payment][/payment] - показывать этот блок если указан метод оплаты
* {num_zakaz} - номер заказа
* {order_table} - блок заказанной корзины

## Размещение скрипта в субдиректории
Для этого в корневом .htaccess поменяйте 
```
RewriteBase / 
```
на 
```
RewriteBase /subdir/
```
А так же в файле start.php 
```
define ( 'AL', 'cp' ); // admin link
define ( 'FL', '' ); // frontend link
```
на 
```
define ( 'AL', 'subdir/cp' ); // admin link
define ( 'FL', '/subdir' ); // frontend link
```
Внесите правки в ссылки шаблона, где это необходимо.
## По всем вопросам
Пишите на почту dev@xfor.top
